(this["webpackJsonpmovie-seat-booking"]=this["webpackJsonpmovie-seat-booking"]||[]).push([[0],[,,function(e){e.exports=JSON.parse('[{"id":1,"name":"Avengers: Endgame","price":10,"backgroundColor":"#1a1e46","seats":{"row":6,"col":9}},{"id":2,"name":"Joker","price":12,"backgroundColor":"#240603","seats":{"row":8,"col":7}},{"id":3,"name":"Toy Story 4","price":8,"backgroundColor":"#3a1619","seats":{"row":10,"col":10}},{"id":4,"name":"The Lion King","price":9,"backgroundColor":"#867719","seats":{"row":6,"col":10}}]')},,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(5),r=c.n(s),o=(c(10),c(4)),i=c(2),l="movies",u=["","occupied"];function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];localStorage.setItem(l,JSON.stringify(e))}i.forEach((function(e){e.theaterSeats=new Array(e.seats.row).fill([]).map((function(t,c){for(var n=[],a=0;a<e.seats.col;a++)n.push({status:u[Math.floor(Math.random()*u.length)]});return n}))}));var j={get:function(){var e=localStorage.getItem(l);return e?JSON.parse(e):(d(i),i)},update:function(e){return d(e)},clear:function(){return d()}},b=(c(11),c(0)),f=function(e){var t=Object(n.useRef)(null),c=Object(n.useRef)(null),a=Object(n.useRef)(null),s=function(){var t=0;e.theaterSeats.forEach((function(e){console.log(e.filter((function(e){return"selected"===e.status}))),t+=e.filter((function(e){return"selected"===e.status})).length})),c.current.innerText=t,a.current.innerText=t*e.price};return Object(n.useEffect)((function(){s()}),[]),Object(b.jsxs)("div",{style:{backgroundColor:e.backgroundColor},children:[Object(b.jsxs)("div",{className:"container",ref:t,children:[Object(b.jsx)("div",{className:"screen"}),e.theaterSeats.map((function(t,c){return Object(b.jsx)("div",{className:"row",children:t.map((function(t,n){return Object(b.jsx)("div",{className:"seat ".concat(t.status),onClick:function(t){return function(t,c,n){t.target.classList.contains("seat")&&!t.target.classList.contains("occupied")&&(e.theaterSeats[c][n].status=t.target.classList.toggle("selected")?"selected":""),s(),e.updateMovie(e.theaterSeats)}(t,c,n)}},"".concat(c-n))}))},c)}))]}),Object(b.jsxs)("p",{className:"text",children:["You have selected","  ",Object(b.jsx)("span",{id:"count",ref:c,children:"0"})," ","seats for a price of $",Object(b.jsx)("span",{id:"total",ref:a,children:"0"})]})]})},h=(c(13),function(){return Object(b.jsxs)("ul",{className:"showcase",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"seat"}),Object(b.jsx)("small",{children:"N/A"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"seat selected"}),Object(b.jsx)("small",{children:"Selected"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"seat occupied"}),Object(b.jsx)("small",{children:"Occupied"})]})]})});var m=function(){var e=Object(n.useState)(j.get()),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(n.useRef)(null);return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"movie-container",children:[Object(b.jsx)("label",{children:"Pick a movie:"}),Object(b.jsx)("select",{id:"movie",ref:u,onChange:function(e){l(e.target.value)},defaultValue:"0",children:c.map((function(e,t){return Object(b.jsx)("option",{value:t,children:"".concat(e.name," ($").concat(e.price,")")},e.id)}))})]}),Object(b.jsx)(h,{}),Object(b.jsx)(f,{seats:c[i].seats,price:c[i].price,theaterSeats:c[i].theaterSeats,backgroundColor:c[i].backgroundColor,name:c[i].name,updateMovie:function(e){c[i].theaterSeats=e,a(c),j.update(c)}},c[i].id)]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.15f6ac16.chunk.js.map