(this["webpackJsonpdemo-cart"]=this["webpackJsonpdemo-cart"]||[]).push([[0],{299:function(e,t,c){"use strict";c.r(t);var r=c(331),n=c(1),a=c(69),i=c.n(a),s=c(336),o=c(177),j=c(320),d=c(38),l=c(19),b=c(323),u=c(318),h=c(181),p=c.p+"static/media/logo.034ef726.svg",O=c(12),x=c(183),m=c(312),f=c(127),g=c(4),v=function(e){var t=Object(x.b)().toggleColorMode,c=Object(x.c)("dark","light"),r=Object(x.c)(f.a,f.b);return Object(g.jsx)(m.a,Object(O.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(c," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(g.jsx)(r,{})},e))},y=c(77),w=c(334),S=function(){return Object(g.jsxs)(w.a,{children:[Object(g.jsx)(w.b,{as:h.a,rounded:"full",variant:"link",cursor:"pointer","aria-label":"Profile",children:Object(g.jsx)(u.a,{size:"sm",src:"https://images.unsplash.com/photo-1493666438817-866a91353ca9?ixlib=rb-0.3.5&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&s=b616b2c5b373a80ffc9636ba24f7a4a9",alt:"user"})}),Object(g.jsxs)(w.e,{children:[Object(g.jsx)(w.d,{children:"Link 1"}),Object(g.jsx)(w.d,{children:"Link 2"}),Object(g.jsx)(w.c,{}),Object(g.jsx)(w.d,{children:"Link 3"})]})]})},k=c(337),I=c(321),z=c(25),q=c(322),A=function(){var e=Object(z.c)((function(e){return e.cart.cartItems}))||[],t=e.reduce((function(e,t){return e+t.quantity}),0);return Object(g.jsxs)(w.a,{children:[Object(g.jsxs)(k.b,{position:"relative",children:[e.length>0&&Object(g.jsx)(j.a,{position:"absolute",borderRadius:"50%",right:-1,top:-1,p:1,zIndex:1,bg:"red",color:"white",fontSize:"10",children:t}),Object(g.jsx)(w.b,{as:m.a,variant:"ghost",size:"md",fontSize:"lg",icon:Object(g.jsx)(y.b,{})})]}),Object(g.jsxs)(w.e,{p:2,children:[e.map((function(e){return Object(g.jsx)(d.b,{to:"/product/".concat(e.id),children:Object(g.jsx)(w.d,{children:Object(g.jsxs)(k.a,{children:[Object(g.jsx)(I.a,{boxSize:"2rem",borderRadius:"full",src:e.image,alt:e.title,mr:"12px"}),Object(g.jsx)("span",{children:e.title})]})})},e.id)})),e.length>0&&Object(g.jsx)(w.d,{children:Object(g.jsx)(j.a,{my:2,width:"100%",children:Object(g.jsx)(d.b,{to:"/cart",children:Object(g.jsx)(h.a,{isFullWidth:!0,colorScheme:"teal",children:"Go To Cart"})})})}),0===e.length&&Object(g.jsx)(j.a,{my:2,width:"100%",children:Object(g.jsx)(q.a,{fontSize:"xl",children:"Your cart is empty :("})})]})]})};function C(){return Object(g.jsx)(j.a,{boxShadow:"base",px:4,bg:"teal.500",position:"fixed",w:"100vw",zIndex:"1",children:Object(g.jsxs)(b.a,{h:16,alignItems:"center",justifyContent:"space-between",children:[Object(g.jsx)(d.b,{to:"/",children:Object(g.jsx)(u.a,{size:"sm",src:p,alt:"demo cart"})}),Object(g.jsxs)(b.a,{alignItems:"center",children:[Object(g.jsx)(d.b,{to:"/product/add",children:Object(g.jsx)(h.a,{variant:"solid",colorScheme:"teal",size:"sm",leftIcon:Object(g.jsx)(y.a,{}),children:"Add"})}),Object(g.jsx)(A,{}),Object(g.jsx)(v,{justifySelf:"flex-end"}),Object(g.jsx)(S,{})]})]})})}var E=c(338),W=c(324),T=c(335),P=c(301),L="Add item to cart",R="Delete item from cart",F=function(e){return{type:L,payload:e}},D=function(e){var t=e.item,c=Object(z.b)();return Object(g.jsx)(d.b,{to:{pathname:"/product/".concat(t.id),state:{item:t}},children:Object(g.jsxs)(j.a,{boxShadow:"base",maxW:"sm",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:[Object(g.jsx)(j.a,{p:"6",children:Object(g.jsx)(W.a,{children:Object(g.jsx)(I.a,{_hover:{transform:"scale(1.1)"},src:t.image,alt:t.title,maxH:"400",height:"400"})})}),Object(g.jsxs)(j.a,{p:"6",children:[Object(g.jsx)(j.a,{d:"flex",alignItems:"baseline",children:Object(g.jsx)(j.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",children:t.category})}),Object(g.jsx)(j.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,whiteSpace:"wrap",textAlign:"left",children:t.title}),Object(g.jsxs)(b.a,{justifyContent:"space-between",children:[Object(g.jsxs)(j.a,{textAlign:"left",children:["$",t.price]}),Object(g.jsx)(T.a,{label:"Add to Cart",fontSize:"md",children:Object(g.jsx)(h.a,{variant:"ghost",p:2,onClick:function(e){e.stopPropagation(),e.preventDefault(),c(F(t))},children:Object(g.jsx)(P.a,{as:y.b,w:6,h:6})})})]})]})]})})},N=c(49),$=c.n(N),B=c(78),H="Set product details",J="Set products",M="Set product categories",V="Add new product",Y=function(){var e=Object(B.a)($.a.mark((function e(t){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fakestoreapi.com",e.prev=1,e.next=4,fetch("".concat("https://fakestoreapi.com").concat(t));case 4:return c=e.sent,e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){return{type:H,payload:e}},Q=function(){var e=Object(z.c)((function(e){return e.product})),t=e.items,c=e.itemsLoaded,r=Object(z.b)();return Object(n.useEffect)((function(){return c||r(function(){var e=Object(B.a)($.a.mark((function e(t){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y("/products");case 3:if(!(c=e.sent)){e.next=6;break}return e.abrupt("return",t({type:J,payload:c}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[r,c]),t&&0!==t.length?Object(g.jsx)(E.a,{columns:{sm:1,md:2,lg:3,xl:4},spacing:"40px",p:3,children:t.map((function(e){return Object(g.jsx)(D,{item:e},e.id)}))}):Object(g.jsx)(j.a,{m:"3",children:"loading..."})},_=function(){var e=Object(z.c)((function(e){return e.product})).product,t=Object(z.b)(),c=(Object(l.g)()||{}).state,r=Object(l.h)();return Object(n.useEffect)((function(){var e;if(r.id)return(null===c||void 0===c?void 0:c.item)?t(G(null===c||void 0===c?void 0:c.item)):t((e=r.id,function(){var t=Object(B.a)($.a.mark((function t(c){var r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y("/products/".concat(e));case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",c(G(r)));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),function(){}}),[r.id,t,null===c||void 0===c?void 0:c.item]),e?Object(g.jsx)(j.a,{m:"3",boxShadow:"base",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(g.jsxs)(E.a,{columns:{sm:1,md:2,lg:2},spacing:"40px",children:[Object(g.jsx)(W.a,{children:Object(g.jsx)(j.a,{p:"6",children:Object(g.jsx)(I.a,{src:e.image,alt:e.title,maxH:"400"})})}),Object(g.jsxs)(j.a,{p:"6",children:[Object(g.jsx)(j.a,{d:"flex",alignItems:"baseline",children:Object(g.jsx)(j.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",children:e.category})}),Object(g.jsxs)(j.a,{textAlign:"left",children:["$",e.price]}),Object(g.jsx)(j.a,{fontWeight:"semibold",mt:"1",as:"h2",textAlign:"left",children:"Product Info:"}),Object(g.jsx)(j.a,{textAlign:"left",fontSize:"md",children:e.description}),Object(g.jsx)(h.a,{onClick:function(c){c.stopPropagation(),c.preventDefault(),t(F(e))},m:3,variant:"solid",colorScheme:"teal",size:"sm",children:"Add to Cart"})]})]})}):Object(g.jsx)(j.a,{m:"3",children:"loading..."})},K=c(326),U=c(328),X=c(329),Z=c(65),ee=c(325),te=c(327),ce=c(37),re=c(73),ne=function(){var e=Object(z.c)((function(e){return e.product.categories})),t=Object(z.b)(),c=Object(l.f)(),r=re.b({title:re.c().required(),price:re.a().required(),category:re.c().required(),description:re.c().required(),image:re.c().url().required()});return Object(n.useEffect)((function(){return t(function(){var e=Object(B.a)($.a.mark((function e(t){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y("/products/categories");case 3:if(!(c=e.sent)){e.next=6;break}return e.abrupt("return",t({type:M,payload:c}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[t]),Object(g.jsx)(j.a,{boxShadow:"base",m:"auto",width:"clamp(300px, 60%, 100%)",children:Object(g.jsx)(ce.d,{initialValues:{title:"",price:"",category:"",description:"",image:""},onSubmit:function(e,r){var n;r.setSubmitting(!1),t((n=e,function(){var e=Object(B.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://fakestoreapi.com/products",{method:"POST",body:JSON.stringify(n)});case 3:return e.sent,e.abrupt("return",t({type:V,payload:n}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),c.push("/")},validationSchema:r,children:function(t){return Object(g.jsx)(ce.c,{noValidate:!0,children:Object(g.jsxs)(k.b,{p:3,m:"3",children:[Object(g.jsx)(j.a,{fontWeight:"semibold",mt:"1",as:"h2",textAlign:"left",children:"Add Product"}),Object(g.jsx)(ce.b,{name:"title",children:function(e){var t=e.field,c=e.form;return Object(g.jsxs)(Z.a,{isRequired:!0,isInvalid:c.errors.title&&c.touched.title,children:[Object(g.jsx)(ee.a,{htmlFor:"title",children:"Enter Title"}),Object(g.jsx)(K.a,Object(O.a)(Object(O.a)({},t),{},{type:"text",id:"title",placeholder:"Enter Title"})),Object(g.jsx)(ce.a,{name:"title",component:te.a})]})}}),Object(g.jsx)(ce.b,{name:"price",children:function(e){var t=e.field,c=e.form;return Object(g.jsxs)(Z.a,{isRequired:!0,isInvalid:c.errors.price&&c.touched.price,children:[Object(g.jsx)(ee.a,{children:"Enter price"}),Object(g.jsx)(K.a,Object(O.a)({type:"number",placeholder:"Enter price"},t)),Object(g.jsx)(ce.a,{name:"price",component:te.a})]})}}),Object(g.jsx)(ce.b,{name:"category",children:function(t){var c=t.field,r=t.form;return Object(g.jsxs)(Z.a,{name:"category",isRequired:!0,isInvalid:r.errors.category&&r.touched.category,children:[Object(g.jsx)(ee.a,{children:"Enter category"}),Object(g.jsx)(U.a,Object(O.a)(Object(O.a)({placeholder:"Select category"},c),{},{children:e.map((function(e,t){return Object(g.jsx)("option",{children:e},t)}))})),Object(g.jsx)(ce.a,{name:"category",component:te.a})]})}}),Object(g.jsx)(ce.b,{name:"description",children:function(e){var t=e.field,c=e.form;return Object(g.jsxs)(Z.a,{name:"description",isRequired:!0,isInvalid:c.errors.description&&c.touched.description,children:[Object(g.jsx)(ee.a,{children:"Enter description"}),Object(g.jsx)(X.a,Object(O.a)(Object(O.a)({},t),{},{id:"description",placeholder:"Enter description"})),Object(g.jsx)(ce.a,{name:"description",component:te.a})]})}}),Object(g.jsx)(ce.b,{name:"image",children:function(e){var t=e.field,c=e.form;return Object(g.jsxs)(Z.a,{name:"image",isRequired:!0,isInvalid:c.errors.image&&c.touched.image,children:[Object(g.jsx)(ee.a,{children:"Enter image"}),Object(g.jsx)(K.a,Object(O.a)({type:"url",placeholder:"Enter image url"},t)),Object(g.jsx)(ce.a,{name:"image",component:te.a})]})}}),Object(g.jsx)(h.a,{mt:4,colorScheme:"teal",type:"submit",isLoading:t.isSubmitting,children:"Add Product"})]})})}})})},ae=c(330),ie=function(){var e=Object(z.b)(),t=Object(l.f)(),c=Object(z.c)((function(e){return e.cart.cartItems})),r=function(t,c){t.stopPropagation(),t.preventDefault(),e(function(e){return{type:R,payload:e}}(c))};return 0===c.length?Object(g.jsx)(b.a,{children:Object(g.jsx)(j.a,{m:4,w:"100%",fontWeight:"semibold",letterSpacing:"wide",textAlign:"center",children:"You cart empty :("})}):Object(g.jsx)(j.a,{m:3,p:3,children:Object(g.jsxs)(ae.a,{variant:"simple",children:[Object(g.jsx)(ae.e,{children:Object(g.jsxs)(ae.f,{children:[Object(g.jsx)(ae.d,{children:"#"}),Object(g.jsx)(ae.d,{children:"Image"}),Object(g.jsx)(ae.d,{children:"Title"}),Object(g.jsx)(ae.d,{isNumeric:!0,children:"Price"}),Object(g.jsx)(ae.d,{isNumeric:!0,children:"Quantity"}),Object(g.jsx)(ae.d,{children:"Action"})]})}),Object(g.jsx)(ae.b,{children:c.map((function(e,c){return Object(g.jsxs)(ae.f,{onClick:function(c){return function(e,c){t.push("/product/".concat(c.id))}(0,e)},children:[Object(g.jsx)(ae.c,{children:c+1}),Object(g.jsx)(ae.c,{children:Object(g.jsx)(u.a,{size:"sm",src:e.image,alt:e.title})}),Object(g.jsx)(ae.c,{children:e.title}),Object(g.jsxs)(ae.c,{isNumeric:!0,children:["$",parseFloat(e.price*e.quantity).toFixed(2)]}),Object(g.jsx)(ae.c,{isNumeric:!0,children:e.quantity}),Object(g.jsx)(ae.c,{children:Object(g.jsx)(h.a,{onClick:function(t){return r(t,e)},children:"Delete"})})]},e.id)}))})]})})},se=c(52),oe=c(112),je=c(13),de={items:[],categories:[],product:null,itemsLoaded:!1},le={cartItems:[]},be=c(173),ue={key:"root",storage:c.n(be).a,whitelist:["cart"]},he=Object(se.combineReducers)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(O.a)(Object(O.a)({},e),{},{items:t.payload,itemsLoaded:!0});case V:var c=Object(O.a)({id:e.items.length+1},t.payload);return Object(O.a)(Object(O.a)({},e),{},{items:[c].concat(Object(je.a)(e.items))});case M:return Object(O.a)(Object(O.a)({},e),{},{categories:t.payload});case H:return Object(O.a)(Object(O.a)({},e),{},{product:t.payload});default:return Object(O.a)({},e)}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var c=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));if(c<0)return Object(O.a)(Object(O.a)({},e),{},{cartItems:[].concat(Object(je.a)(e.cartItems),[Object(O.a)(Object(O.a)({},t.payload),{},{quantity:1})])});var r=e.cartItems.slice();return r[c].quantity+=1,Object(O.a)(Object(O.a)({},e),{},{cartItems:r});case R:var n=e.cartItems.filter((function(e){return e.id!==t.payload.id}));return Object(O.a)(Object(O.a)({},e),{},{cartItems:n});default:return Object(O.a)({},e)}}}),pe=Object(oe.a)(ue,he),Oe=c(174),xe=c(175),me=Object(se.createStore)(pe,Object(xe.composeWithDevTools)(Object(se.applyMiddleware)(Oe.a))),fe=Object(oe.b)(me),ge=c(176);var ve=function(){return Object(g.jsx)(z.a,{store:me,children:Object(g.jsx)(ge.a,{loading:null,persistor:fe,children:Object(g.jsx)(d.a,{hashType:"slash",children:Object(g.jsxs)(s.a,{theme:o.theme,children:[Object(g.jsx)(C,{}),Object(g.jsx)(j.a,{textAlign:"center",fontSize:"xl",height:"calc(100vh - 64px)",width:"90%",pt:16,ml:"auto",mr:"auto",children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(Q,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/product/add",children:Object(g.jsx)(ne,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/product/:id",children:Object(g.jsx)(_,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/cart",children:Object(g.jsx)(ie,{})})]})})]})})})})},ye=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,339)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsxs)(n.StrictMode,{children:[Object(g.jsx)(r.a,{}),Object(g.jsx)(ve,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ye()}},[[299,1,2]]]);
//# sourceMappingURL=main.0e8e558d.chunk.js.map