(this["webpackJsonpdemo-cart"]=this["webpackJsonpdemo-cart"]||[]).push([[0],{293:function(e,t,c){"use strict";c.r(t);var r=c(321),n=c(1),a=c(63),i=c.n(a),o=c(327),s=c(171),l=c(307),d=c(48),j=c(17),u=c(308),b=c(326),h=c(310),p=c(175),O=c(305),f=c(324),x=c.p+"static/media/logo.034ef726.svg",m=c(12),g=c(177),v=c(119),w=c(4),y=function(e){var t=Object(g.b)().toggleColorMode,c=Object(g.c)("dark","light"),r=Object(g.c)(v.a,v.b);return Object(w.jsx)(O.a,Object(m.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(c," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(w.jsx)(r,{})},e))},S=c(296),k=c(81),I=c(22);function A(){var e=Object(I.c)((function(e){return e.cart.cartItems}));return Object(w.jsx)(l.a,{boxShadow:"base",px:4,bg:"teal.500",position:"fixed",w:"100vw",zIndex:"1",children:Object(w.jsxs)(u.a,{h:16,alignItems:"center",justifyContent:"space-between",children:[Object(w.jsx)(b.a,{spacing:8,alignItems:"center",children:Object(w.jsx)(l.a,{children:Object(w.jsx)(d.b,{to:"/",children:Object(w.jsx)(h.a,{size:"sm",src:x,alt:"demo cart"})})})}),Object(w.jsxs)(u.a,{alignItems:"center",children:[Object(w.jsx)(d.b,{to:"/product/add",children:Object(w.jsx)(p.a,{variant:"solid",colorScheme:"teal",size:"sm",leftIcon:Object(w.jsx)(k.a,{}),children:"Add"})}),Object(w.jsx)(d.b,{to:"/cart",children:Object(w.jsx)(O.a,{size:"md",fontSize:"lg","aria-label":"cart",variant:"ghost",ml:2,p:0,children:Object(w.jsxs)(b.b,{children:[e.length>0&&Object(w.jsx)(l.a,{position:"absolute",borderRadius:"50%",right:-1,top:-1,p:1,bg:"red",color:"white",fontSize:"10",children:e.length}),Object(w.jsx)(S.a,{as:k.b,w:6,h:6})]})})}),Object(w.jsx)(y,{justifySelf:"flex-end"}),Object(w.jsxs)(f.a,{children:[Object(w.jsx)(f.b,{as:p.a,rounded:"full",variant:"link",cursor:"pointer","aria-label":"Profile",children:Object(w.jsx)(h.a,{size:"sm",src:"https://images.unsplash.com/photo-1493666438817-866a91353ca9?ixlib=rb-0.3.5&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&s=b616b2c5b373a80ffc9636ba24f7a4a9",alt:"user"})}),Object(w.jsxs)(f.e,{children:[Object(w.jsx)(f.d,{children:"Link 1"}),Object(w.jsx)(f.d,{children:"Link 2"}),Object(w.jsx)(f.c,{}),Object(w.jsx)(f.d,{children:"Link 3"})]})]})]})]})})}var W=c(328),z=c(313),q=c(314),E=c(325),C="Add item to cart",P="Delete item from cart",L=function(e){return{type:C,payload:e}},T=function(e){var t=e.item,c=Object(I.b)();return Object(w.jsx)(d.b,{to:{pathname:"/product/".concat(t.id),state:{item:t}},children:Object(w.jsxs)(l.a,{boxShadow:"base",maxW:"sm",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:[Object(w.jsx)(l.a,{p:"6",children:Object(w.jsx)(z.a,{children:Object(w.jsx)(q.a,{_hover:{transform:"scale(1.1)"},src:t.image,alt:t.title,maxH:"400",height:"400"})})}),Object(w.jsxs)(l.a,{p:"6",children:[Object(w.jsx)(l.a,{d:"flex",alignItems:"baseline",children:Object(w.jsx)(l.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",children:t.category})}),Object(w.jsx)(l.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,whiteSpace:"wrap",textAlign:"left",children:t.title}),Object(w.jsxs)(u.a,{justifyContent:"space-between",children:[Object(w.jsxs)(l.a,{textAlign:"left",children:["$",t.price]}),Object(w.jsx)(E.a,{label:"Add to Cart",fontSize:"md",children:Object(w.jsx)(p.a,{variant:"ghost",p:2,onClick:function(e){e.stopPropagation(),e.preventDefault(),c(L(t))},children:Object(w.jsx)(S.a,{as:k.b,w:6,h:6})})})]})]})]})})},R=c(46),D=c.n(R),F=c(70),N="Set product details",$="Set products",B="Set product categories",H="Add new product",J=function(){var e=Object(F.a)(D.a.mark((function e(t){var c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fakestoreapi.com",e.prev=1,e.next=4,fetch("".concat("https://fakestoreapi.com").concat(t));case 4:return c=e.sent,e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return{type:N,payload:e}},U=function(){var e=Object(I.c)((function(e){return e.product})),t=e.items,c=e.itemsLoaded,r=Object(I.b)();return Object(n.useEffect)((function(){return c||r(function(){var e=Object(F.a)(D.a.mark((function e(t){var c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J("/products");case 3:return c=e.sent,e.abrupt("return",t({type:$,payload:c}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[r,c]),t&&0!==t.length?Object(w.jsx)(W.a,{columns:{sm:1,md:2,lg:3,xl:4},spacing:"40px",p:3,children:t.map((function(e){return Object(w.jsx)(T,{item:e},e.id)}))}):Object(w.jsx)(l.a,{m:"3",children:"loading..."})},V=function(){var e=Object(I.c)((function(e){return e.product})).product,t=Object(I.b)(),c=(Object(j.g)()||{}).state,r=Object(j.h)();return Object(n.useEffect)((function(){var e;if(r.id)return(null===c||void 0===c?void 0:c.item)?t(M(null===c||void 0===c?void 0:c.item)):t((e=r.id,function(){var t=Object(F.a)(D.a.mark((function t(c){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J("/products/".concat(e));case 3:return r=t.sent,t.abrupt("return",c(M(r)));case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),function(){}}),[r.id,t,null===c||void 0===c?void 0:c.item]),e?Object(w.jsx)(l.a,{m:"3",boxShadow:"base",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(w.jsxs)(W.a,{columns:{sm:1,md:2,lg:2},spacing:"40px",children:[Object(w.jsx)(z.a,{children:Object(w.jsx)(l.a,{p:"6",children:Object(w.jsx)(q.a,{src:e.image,alt:e.title,maxH:"400"})})}),Object(w.jsxs)(l.a,{p:"6",children:[Object(w.jsx)(l.a,{d:"flex",alignItems:"baseline",children:Object(w.jsx)(l.a,{color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",children:e.category})}),Object(w.jsxs)(l.a,{textAlign:"left",children:["$",e.price]}),Object(w.jsx)(l.a,{fontWeight:"semibold",mt:"1",as:"h2",textAlign:"left",children:"Product Info:"}),Object(w.jsx)(l.a,{textAlign:"left",fontSize:"md",children:e.description}),Object(w.jsx)(p.a,{onClick:function(c){c.stopPropagation(),c.preventDefault(),t(L(e))},m:3,variant:"solid",colorScheme:"teal",size:"sm",children:"Add to Cart"})]})]})}):Object(w.jsx)(l.a,{m:"3",children:"loading..."})},Q=c(316),Y=c(318),_=c(319),G=c(61),K=c(315),X=c(317),Z=c(34),ee=c(67),te=function(){var e=Object(I.c)((function(e){return e.product.categories})),t=Object(I.b)(),c=Object(j.f)(),r=ee.b({title:ee.c().required(),price:ee.a().required(),category:ee.c().required(),description:ee.c().required(),image:ee.c().url().required()});return Object(n.useEffect)((function(){return t(function(){var e=Object(F.a)(D.a.mark((function e(t){var c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J("/products/categories");case 3:return c=e.sent,e.abrupt("return",t({type:B,payload:c}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[t]),Object(w.jsx)(l.a,{boxShadow:"base",m:"auto",width:"clamp(300px, 60%, 100%)",children:Object(w.jsx)(Z.d,{initialValues:{title:"",price:"",category:"",description:"",image:""},onSubmit:function(e,r){var n;r.setSubmitting(!1),t((n=e,function(){var e=Object(F.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://fakestoreapi.com/products",{method:"POST",body:JSON.stringify(n)});case 3:return e.sent,e.abrupt("return",t({type:H,payload:n}));case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),c.push("/")},validationSchema:r,children:function(t){return Object(w.jsx)(Z.c,{noValidate:!0,children:Object(w.jsxs)(b.b,{p:3,m:"3",children:[Object(w.jsx)(l.a,{fontWeight:"semibold",mt:"1",as:"h2",textAlign:"left",children:"Add Product"}),Object(w.jsx)(Z.b,{name:"title",children:function(e){var t=e.field,c=e.form;return Object(w.jsxs)(G.a,{isRequired:!0,isInvalid:c.errors.title&&c.touched.title,children:[Object(w.jsx)(K.a,{htmlFor:"title",children:"Enter Title"}),Object(w.jsx)(Q.a,Object(m.a)(Object(m.a)({},t),{},{type:"text",id:"title",placeholder:"Enter Title"})),Object(w.jsx)(Z.a,{name:"title",component:X.a})]})}}),Object(w.jsx)(Z.b,{name:"price",children:function(e){var t=e.field,c=e.form;return Object(w.jsxs)(G.a,{isRequired:!0,isInvalid:c.errors.price&&c.touched.price,children:[Object(w.jsx)(K.a,{children:"Enter price"}),Object(w.jsx)(Q.a,Object(m.a)({type:"number",placeholder:"Enter price"},t)),Object(w.jsx)(Z.a,{name:"price",component:X.a})]})}}),Object(w.jsx)(Z.b,{name:"category",children:function(t){var c=t.field,r=t.form;return Object(w.jsxs)(G.a,{name:"category",isRequired:!0,isInvalid:r.errors.category&&r.touched.category,children:[Object(w.jsx)(K.a,{children:"Enter category"}),Object(w.jsx)(Y.a,Object(m.a)(Object(m.a)({placeholder:"Select category"},c),{},{children:e.map((function(e,t){return Object(w.jsx)("option",{children:e},t)}))})),Object(w.jsx)(Z.a,{name:"category",component:X.a})]})}}),Object(w.jsx)(Z.b,{name:"description",children:function(e){var t=e.field,c=e.form;return Object(w.jsxs)(G.a,{name:"description",isRequired:!0,isInvalid:c.errors.description&&c.touched.description,children:[Object(w.jsx)(K.a,{children:"Enter description"}),Object(w.jsx)(_.a,Object(m.a)(Object(m.a)({},t),{},{id:"description",placeholder:"Enter description"})),Object(w.jsx)(Z.a,{name:"description",component:X.a})]})}}),Object(w.jsx)(Z.b,{name:"image",children:function(e){var t=e.field,c=e.form;return Object(w.jsxs)(G.a,{name:"image",isRequired:!0,isInvalid:c.errors.image&&c.touched.image,children:[Object(w.jsx)(K.a,{children:"Enter image"}),Object(w.jsx)(Q.a,Object(m.a)({type:"url",placeholder:"Enter image url"},t)),Object(w.jsx)(Z.a,{name:"image",component:X.a})]})}}),Object(w.jsx)(p.a,{mt:4,colorScheme:"teal",type:"submit",isLoading:t.isSubmitting,children:"Add Product"})]})})}})})},ce=c(320),re=function(){var e=Object(I.b)(),t=Object(j.f)(),c=Object(I.c)((function(e){return e.cart.cartItems})),r=function(t,c){t.stopPropagation(),t.preventDefault(),e(function(e){return{type:P,payload:e}}(c))};return 0===c.length?Object(w.jsx)(u.a,{children:Object(w.jsx)(l.a,{m:4,w:"100%",fontWeight:"semibold",letterSpacing:"wide",textAlign:"center",children:"You cart empty :("})}):Object(w.jsx)(l.a,{m:3,p:3,children:Object(w.jsxs)(ce.a,{variant:"simple",children:[Object(w.jsx)(ce.e,{children:Object(w.jsxs)(ce.f,{children:[Object(w.jsx)(ce.d,{children:"#"}),Object(w.jsx)(ce.d,{children:"Image"}),Object(w.jsx)(ce.d,{children:"Title"}),Object(w.jsx)(ce.d,{isNumeric:!0,children:"Price"}),Object(w.jsx)(ce.d,{isNumeric:!0,children:"Quantity"}),Object(w.jsx)(ce.d,{children:"Action"})]})}),Object(w.jsx)(ce.b,{children:c.map((function(e,c){return Object(w.jsxs)(ce.f,{onClick:function(c){return function(e,c){t.push("/product/".concat(c.id))}(0,e)},children:[Object(w.jsx)(ce.c,{children:c+1}),Object(w.jsx)(ce.c,{children:Object(w.jsx)(h.a,{size:"sm",src:e.image,alt:e.title})}),Object(w.jsx)(ce.c,{children:e.title}),Object(w.jsxs)(ce.c,{isNumeric:!0,children:["$",parseFloat(e.price*e.quantity).toFixed(2)]}),Object(w.jsx)(ce.c,{isNumeric:!0,children:e.quantity}),Object(w.jsx)(ce.c,{children:Object(w.jsx)(p.a,{onClick:function(t){return r(t,e)},children:"Delete"})})]},e.id)}))})]})})},ne=c(35),ae=c(126),ie=c(167),oe=c.n(ie),se=c(10),le={items:[],categories:[],product:null,itemsLoaded:!1},de={cartItems:[]},je=Object(ne.combineReducers)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(m.a)(Object(m.a)({},e),{},{items:t.payload,itemsLoaded:!0});case H:var c=Object(m.a)({id:e.items.length+1},t.payload);return Object(m.a)(Object(m.a)({},e),{},{items:[c].concat(Object(se.a)(e.items))});case B:return Object(m.a)(Object(m.a)({},e),{},{categories:t.payload});case N:return Object(m.a)(Object(m.a)({},e),{},{product:t.payload});default:return Object(m.a)({},e)}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var c=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));if(c<0)return Object(m.a)(Object(m.a)({},e),{},{cartItems:[].concat(Object(se.a)(e.cartItems),[Object(m.a)(Object(m.a)({},t.payload),{},{quantity:1})])});var r=e.cartItems.slice();return r[c].quantity+=1,Object(m.a)(Object(m.a)({},e),{},{cartItems:r});case P:var n=e.cartItems.filter((function(e){return e.id!==t.payload.id}));return Object(m.a)(Object(m.a)({},e),{},{cartItems:n});default:return Object(m.a)({},e)}}}),ue=c(168),be=c(169),he={key:"root",storage:oe.a},pe=Object(ae.a)(he,je),Oe=Object(ne.createStore)(pe,Object(be.composeWithDevTools)(Object(ne.applyMiddleware)(ue.a))),fe=Object(ae.b)(Oe),xe=c(170);var me=function(){return Object(w.jsx)(I.a,{store:Oe,children:Object(w.jsx)(xe.a,{loading:null,persistor:fe,children:Object(w.jsx)(d.a,{children:Object(w.jsxs)(o.a,{theme:s.theme,children:[Object(w.jsx)(A,{}),Object(w.jsx)(l.a,{textAlign:"center",fontSize:"xl",height:"calc(100vh - 64px)",width:"90%",pt:16,ml:"auto",mr:"auto",children:Object(w.jsxs)(j.c,{children:[Object(w.jsx)(j.a,{exact:!0,path:"/",children:Object(w.jsx)(U,{})}),Object(w.jsx)(j.a,{path:"/product/add",children:Object(w.jsx)(te,{})}),Object(w.jsx)(j.a,{path:"/product/:id",children:Object(w.jsx)(V,{})}),Object(w.jsx)(j.a,{path:"/cart",children:Object(w.jsx)(re,{})})]})})]})})})})},ge=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,330)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))},ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(w.jsxs)(n.StrictMode,{children:[Object(w.jsx)(r.a,{}),Object(w.jsx)(me,{})]}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-sample-projects/demo-cart",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-sample-projects/demo-cart","/service-worker.js");ve?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var r=c.headers.get("content-type");404===c.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):we(t,e)}))}}(),ge()}},[[293,1,2]]]);
//# sourceMappingURL=main.c01d8a40.chunk.js.map