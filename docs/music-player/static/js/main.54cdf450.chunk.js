(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],[,,,,,,function(e,a,t){e.exports=t(19)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(5),c=t.n(o),l=t(1),i=t(2),s=Object(n.createContext)(),u="assets/images/covers/RaceGurramFront.jpg",m={playList:[],currentSong:{},isSongPlaying:!1,cover:u,currentView:"musicPlayer",playerVolume:.4,isVolumeControl:!1,volumeIcon:"fa-volume-down",action:""};function p(e,a){switch(a.type){case"play":return Object(l.a)(Object(l.a)({},e),{},{isSongPlaying:!0,action:a.type});case"pause":return Object(l.a)(Object(l.a)({},e),{},{isSongPlaying:!1,action:a.type});case"previous":var t=e.playList.findIndex((function(a){return a.name===e.currentSong.name})),n={};return n=t<=0?e.playList[e.playList.length-1]:t>0&&t<=e.playList.length-1?e.playList[t-1]:e.currentSong,Object(l.a)(Object(l.a)({},e),{},{currentSong:Object(l.a)(Object(l.a)({},n),{},{cover:u})});case"next":var r={},o=e.playList.findIndex((function(a){return a.name===e.currentSong.name}));return"This"!==e.loopSongs&&(o+=1),r="Loop"===e.loopSongs||o<e.playList.length-1?e.playList[o]:e.playList[0],Object(l.a)(Object(l.a)({},e),{},{currentSong:Object(l.a)(Object(l.a)({},r),{},{cover:u})});case"random":var c=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=parseInt(10*Math.random());if(t>=0&&t<a.length)return t;e(a)}(e.playList)||0;return Object(l.a)(Object(l.a)({},e),{},{currentSong:Object(l.a)(Object(l.a)({},e.playList[c]),{},{cover:u})});case"setSongs":var i=a.payload;return Object(l.a)(Object(l.a)({},e),{},{playList:i});case"setCurrentSong":var s=a.payload;return Object(l.a)(Object(l.a)({},e),{},{currentSong:Object(l.a)(Object(l.a)({},s),{},{cover:u})});case"setCurrentView":var m=a.payload.currentView;return Object(l.a)(Object(l.a)({},e),{},{currentView:m});case"playSong":var p=a.payload.song;return Object(l.a)(Object(l.a)({},e),{},{currentView:"musicPlayer",currentSong:Object(l.a)(Object(l.a)({},p),{},{cover:u}),isSongPlaying:!1});case"setVolume":var d=a.payload,f=d.playerVolume,v=d.volumeIcon;return Object(l.a)(Object(l.a)({},e),{},{playerVolume:f,volumeIcon:v});case"showVolumeControl":var g=a.payload.isVolumeControl;return Object(l.a)(Object(l.a)({},e),{},{isVolumeControl:g});case"setLoopSongs":var y;return"Once"===e.loopSongs?y="Loop":"Loop"===e.loopSongs?y="This":"This"===e.loopSongs&&(y="Once"),Object(l.a)(Object(l.a)({},e),{},{loopSongs:y});default:throw new Error("Unhandled action type: ".concat(a.type))}}function d(e){var a=e.children,t=Object(n.useReducer)(p,m),o=Object(i.a)(t,2),c=o[0],l=o[1];return r.a.createElement(s.Provider,{value:{dispatch:l,state:c}},a)}function f(){var e=Object(n.useContext)(s);if(void 0===e)throw new Error("useAppContext must be used within a AppContextProvider");return e}t(11);var v=function(e){var a=e.Heading,t=f(),n=t.state,o=t.dispatch;return r.a.createElement("div",{className:"top-nav"},"musicPlayer"!==n.currentView&&r.a.createElement("label",{title:"back",onClick:function(){return o({type:"setCurrentView",payload:{currentView:"musicPlayer"}})}},r.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),r.a.createElement("span",{className:"title"},a),"musicPlayer"===n.currentView&&r.a.createElement("label",{title:"Play List",className:"list-songs",onClick:function(){return o({type:"setCurrentView",payload:{currentView:"PlayList"}})}},r.a.createElement("i",{className:"fas fa-list"})))},g=(t(12),function(e){var a=e.album,t=e.currentSong,n=e.isSongPlaying,o=e.className,c=f().dispatch;return r.a.createElement("div",{className:"".concat(o," player-back")},r.a.createElement("div",{className:"play-list"},r.a.createElement("ul",null,a.map((function(e,a){return r.a.createElement("li",{key:a,className:t.name===e.name&&n?"song-item active":"song-item",onClick:function(){return function(e){c({type:"playSong",payload:{song:e}})}(e)}},r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"song-title"},e.name),r.a.createElement("p",{className:"artist"},e.artist)),r.a.createElement("div",{className:"status"},t.name===e.name&&n&&r.a.createElement("i",{className:"fa fa-signal",title:"Playing"})))})))))}),y="assets/images/covers/RaceGurramFront.jpg",b=[{name:"01 - Boochade Boochade.mp3",cover:y},{name:"02 - Gala Gala.mp3",cover:y},{name:"03 - Cinema Choopistha Mava.mp3",cover:y},{name:"04 - Sweety.mp3",cover:y},{name:"05 - Down Down.mp3",cover:y},{name:"06 - Race Gurram.mp3",cover:y}],E=t(3);var h,N=Object(n.memo)((function(e){var a=Object(n.createRef)(null),t=Object(n.useRef)(null),o="assets/media/"+e.currentSongName,c=function(){return null===t||void 0===t?void 0:t.current},i=function(){var a=c(),t=a.currentTime,n=a.duration;isNaN(n)||e.onTimeUpdate({currentTime:t,trackDuration:n})},s=function(){c().currentTime=0,e.onEnd()},u=function(){var a=c();e.isPlaying?a.play():a.pause()},m=function(e,t){a.current?a.current[e]=t:a.current=Object(l.a)(Object(l.a)({},a.current),{},Object(E.a)({},e,t))},p=function(){return(null===a||void 0===a?void 0:a.current)||{}};return Object(n.useEffect)((function(){var a,t,n;if((null===(a=p())||void 0===a?void 0:a.songName)!==e.currentSongName&&(!function(){var a=c();!1===a.paused&&a.readyState&&a.pause(),e.onTimeUpdate({currentTime:0,trackDuration:a.duration}),a.load(),e.isPlaying&&a.readyState&&a.play()}(),m("songName",e.currentSongName)),(null===(t=p())||void 0===t?void 0:t.isPlaying)!==e.isPlaying&&(u(),m("isPlaying",e.isPlaying)),(null===(n=p())||void 0===n?void 0:n.defaultTime)!==e.defaultTime)!function(){var a=c();a.readyState&&(a.currentTime=e.defaultTime)}(),m("defaultTime",e.defaultTime);else{var r=c();r.addEventListener("timeupdate",i),r.addEventListener("ended",s),u()}return function(){var e=c();e.removeEventListener("timeupdate",i),e.removeEventListener("ended",s)}}),[e.isPlaying,e.defaultTime,e.songName,e.volume]),r.a.createElement("audio",{ref:t},r.a.createElement("source",{src:o,type:"audio/mp3"}))})),j=(t(13),function(){var e=f().state,a=Object(n.useState)({currentTime:0,defaultTime:0}),t=Object(i.a)(a,2),o=t[0],c=t[1];return r.a.createElement("div",{className:"tracker"},r.a.createElement(N,{currentSongName:e.currentSong.name,volume:e.playerVolume,isPlaying:e.isSongPlaying,onTimeUpdate:function(e){var a=parseFloat(e.trackDuration/60).toFixed(2),t=parseFloat(e.currentTime/60).toFixed(2),n=e.currentTime/e.trackDuration*100,r=parseInt(n);c({songDuration:a,currentTime:t,progress:r})},defaultTime:o.defaultTime,onEnd:function(e){return console.log("onEnd",e)}}),r.a.createElement("div",{className:"trackTimes"},0!==o.currentTime&&r.a.createElement("span",{className:"currentTime"},o.currentTime),0!==o.songDuration&&r.a.createElement("span",{className:"duration"},o.songDuration)),r.a.createElement("div",{className:"progressbar",title:o.currentTime,onClick:function(e){var a=Number(o.songDuration||0),t=o.currentTime/o.songDuration*100,n=Math.round(e.pageX/t*a)||0;c(Object(l.a)(Object(l.a)({},o),{},{defaultTime:n}))}},r.a.createElement("span",{id:"progress",className:"progress",style:{width:"".concat(o.progress,"%")}})))}),O=(t(14),function(){var e=f(),a=e.state,t=e.dispatch;return r.a.createElement("div",{className:"album-info"},a.currentSong&&r.a.createElement("div",{className:""},r.a.createElement("p",{className:"song-title"},a.currentSong.name),r.a.createElement("p",{className:"artist"},a.currentSong.artist)),r.a.createElement("div",{className:"loop-songs"},r.a.createElement("a",{href:"#",title:"Album",className:"Once"!==a.loopSongs?"active":"",onClick:function(){return t({type:"setLoopSongs"})}},r.a.createElement("i",{className:"fas fa-sync-alt"})),"This"===a.loopSongs&&r.a.createElement("small",null,"1")))}),S=(t(15),function(){var e=f(),a=e.state,t=e.dispatch,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=a.volumeIcon,r=Number(e);0===r?n="fa-volume-off":r>.2&&r<.6?n="fa-volume-down":r>.6&&(n="fa-volume-up"),a.playerVolume!==r&&setTimeout((function(){t({type:"setVolume",payload:{playerVolume:r,volumeIcon:n}})}),0)};return Object(n.useEffect)((function(){return o(a.playerVolume),h=setTimeout((function(){t({type:"showVolumeControl",payload:{isVolumeControl:!a.isVolumeControl}})}),2500),function(){}}),[a.playerVolume]),r.a.createElement("div",{className:"volumeControl",onMouseEnter:function(e){clearTimeout(h)},onMouseLeave:function(e){t({type:"showVolumeControl",payload:{isVolumeControl:!a.isVolumeControl}})}},r.a.createElement("i",{className:"fas ".concat(a.volumeIcon)}),r.a.createElement("input",{type:"range",name:"volume",min:"0.0",max:"1.0",step:"0.1",className:"volume",value:a.playerVolume,onChange:function(e){return o(e.target.value)}}))}),w=(t(16),t(17),function(){var e=f(),a=e.state,t=e.dispatch;return r.a.createElement("div",{className:"player-actions"},r.a.createElement("div",{className:"player-controls "},r.a.createElement("a",{href:"#",title:"Volume",onClick:function(){return t({type:"showVolumeControl",payload:{isVolumeControl:!a.isVolumeControl}})}},r.a.createElement("i",{className:"fa ".concat(a.volumeIcon)})),r.a.createElement("a",{href:"#",className:"play-buttons",onClick:function(){return t({type:"previous"})},title:"Previous"},r.a.createElement("i",{className:"fa fa-backward"})),a.isSongPlaying?r.a.createElement("a",{href:"#",className:"play-buttons play",onClick:function(){return t({type:"pause"})},title:"Pause"},r.a.createElement("i",{className:"fa fa-pause"})):r.a.createElement("a",{href:"#",className:"play-buttons play",onClick:function(){return t({type:"play"})},title:"Play"},r.a.createElement("i",{className:"fa fa-play"})),r.a.createElement("a",{href:"#",className:"play-buttons",onClick:function(){return t({type:"next"})},title:"Next"},r.a.createElement("i",{className:"fa fa-forward"})),r.a.createElement("a",{href:"#",title:"Shuffle",className:a.isRandomSongs?"active":"",onClick:function(){return t({type:"random"})}},r.a.createElement("i",{className:"fa fa-random"}))))}),C=function(e){var a=e.name,t=e.cover,n=e.isVolumeControl,o=e.className;return r.a.createElement("div",{className:"".concat(o," album-cover")},r.a.createElement("img",{src:t,alt:a,id:"cover"}),r.a.createElement(j,null),r.a.createElement(O,null),r.a.createElement(w,null),n&&r.a.createElement(S,null))};t(18);var V=function(){var e=Object(n.useRef)([]),a=f(),t=a.state,o=a.dispatch,c=Object(n.useState)(""),s=Object(i.a)(c,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){if(!document.querySelector("#id3"))return new Promise((function(e,a){var t=document.createElement("script");t.src="./assets/id3-minimized.js",t.id="id3",t.onload=function(){return e()},document.body.appendChild(t)})).then((function(){(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[];return new Promise((function(n,r){!function a(r){var o,c="./assets/media/"+(null===(o=e[r])||void 0===o?void 0:o.name);window.ID3.loadTags(c,(function(){var o=window.ID3.getAllTags(c),l={title:o.title,album:o.album,artist:o.artist};l.name=e[r].name,t.push(l),r<e.length-1?a(r+1):n(t)}))}(a)}))})(b).then((function(a){e.current=a,o({type:"setSongs",payload:a}),function(e){e&&0!==e.length&&(u||m(e[0].album),0===Object.keys(t.currentSong).length&&o({type:"setCurrentSong",payload:Object(l.a)(Object(l.a)({},e[0]),{},{cover:y})}))}(a)}))})),function(){};o({type:"setSongs",payload:null===e||void 0===e?void 0:e.current})}),[null===e||void 0===e?void 0:e.current]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"music-player"},r.a.createElement(v,{Heading:u}),r.a.createElement(C,{className:"musicPlayer"===t.currentView?"":"hide",cover:t.currentSong.cover,name:t.currentSong.name,isVolumeControl:t.isVolumeControl}),r.a.createElement(g,{className:"PlayList"===t.currentView?"":"hide",album:e.current,currentSong:t.currentSong,isSongPlaying:t.isSongPlaying})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.54cdf450.chunk.js.map